# ðŸ“Š SEQUENCE DIAGRAM - SISTEM INFORMASI KEDISIPLINAN SISWA SMK NEGERI 1

## ðŸŽ¯ DESKRIPSI

Dokumen ini berisi Sequence Diagram untuk proses-proses utama dalam Sistem Informasi Kedisiplinan Siswa.

---

## ðŸ“‘ DAFTAR SEQUENCE DIAGRAM

| # | Proses | Kompleksitas |
|---|--------|--------------|
| 1 | Login & Autentikasi | Sederhana |
| 2 | Catat Pelanggaran Siswa | Kompleks |
| 3 | Approval Tindak Lanjut | Sedang |
| 4 | Cetak Surat Panggilan | Sederhana |
| 5 | Mulai & Selesaikan Pembinaan | Sedang |
| 6 | Kelola Data Siswa | Sederhana |
| 7 | Lihat Dashboard (Role-based) | Sedang |

---

## 1ï¸âƒ£ SEQUENCE DIAGRAM: LOGIN & AUTENTIKASI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User   â”‚          â”‚  LoginController â”‚          â”‚   Auth Guard    â”‚          â”‚  Databaseâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚  1. GET /              â”‚                             â”‚                        â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚  2. Return login form  â”‚                             â”‚                        â”‚
     â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚  3. POST / (username,  â”‚                             â”‚                        â”‚
     â”‚     password)          â”‚                             â”‚                        â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚  4. attempt(credentials)    â”‚                        â”‚
     â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ >â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚  5. SELECT user        â”‚
     â”‚                        â”‚                             â”‚     WHERE username     â”‚
     â”‚                        â”‚                             â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚  6. Return user data   â”‚
     â”‚                        â”‚                             â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚  7. Verify password    â”‚
     â”‚                        â”‚                             â”‚     (Hash::check)      â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚  8. Return auth result      â”‚                        â”‚
     â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚                        â”‚  [IF authenticated]         â”‚                        â”‚
     â”‚                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚                        â”‚  â”‚ 9. Check is_active                              â”‚ â”‚
     â”‚                        â”‚  â”‚                                                 â”‚ â”‚
     â”‚                        â”‚  â”‚ 10. Update last_login_at                        â”‚ â”‚
     â”‚                        â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                        â”‚  â”‚                                                 â”‚ â”‚
     â”‚                        â”‚  â”‚ 11. Redirect to dashboard                       â”‚ â”‚
     â”‚                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚  12. Redirect based on â”‚                             â”‚                        â”‚
     â”‚      user role         â”‚                             â”‚                        â”‚
     â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                             â”‚                        â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â”‚  [ELSE: Invalid]       â”‚                             â”‚                        â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
     â”‚  â”‚ 13. Return error: "Username atau password salah"                         â”‚â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
     â”‚                        â”‚                             â”‚                        â”‚
     â–¼                        â–¼                             â–¼                        â–¼
```

### Deskripsi Proses:
1. User mengakses halaman login (GET /)
2. Sistem menampilkan form login
3. User submit username dan password
4. LoginController memanggil Auth::attempt()
5. Auth Guard query database untuk user
6. Database return user data
7. Auth Guard verifikasi password dengan Hash::check
8. Return hasil autentikasi
9. Jika berhasil, cek status is_active
10. Update last_login_at di database
11. Redirect ke dashboard sesuai role
12. Jika gagal, return error message

---

## 2ï¸âƒ£ SEQUENCE DIAGRAM: CATAT PELANGGARAN SISWA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Guru   â”‚    â”‚ RiwayatPelanggaran  â”‚    â”‚ RiwayatPelanggaranâ”‚    â”‚ PelanggaranFrequency   â”‚
â”‚         â”‚    â”‚    Controller       â”‚    â”‚      Service      â”‚    â”‚     RuleService        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚ 1. GET /riwayat/   â”‚                         â”‚                          â”‚
     â”‚    create          â”‚                         â”‚                          â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚                    â”‚ 2. getDataForCreate()   â”‚                          â”‚
     â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚                    â”‚ 3. Return siswaList,    â”‚                          â”‚
     â”‚                    â”‚    jenisPelanggaranList â”‚                          â”‚
     â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚ 4. Return form     â”‚                         â”‚                          â”‚
     â”‚    (create.blade)  â”‚                         â”‚                          â”‚
     â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚ 5. POST /riwayat   â”‚                         â”‚                          â”‚
     â”‚    (siswa_id,      â”‚                         â”‚                          â”‚
     â”‚    jenis_id,       â”‚                         â”‚                          â”‚
     â”‚    tanggal,        â”‚                         â”‚                          â”‚
     â”‚    keterangan)     â”‚                         â”‚                          â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚                    â”‚ 6. Validate request     â”‚                          â”‚
     â”‚                    â”‚    (StoreRiwayatRequest)â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚                    â”‚ 7. createRiwayat(data)  â”‚                          â”‚
     â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                          â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚                    â”‚                         â”‚ 8. getJenisPelanggaran() â”‚
     â”‚                    â”‚                         â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                    â”‚                         â”‚                          â”‚
     â”‚                    â”‚                         â”‚         [LANJUT DI BAWAH]â”‚
     â–¼                    â–¼                         â–¼                          â–¼
```

### (Lanjutan) CATAT PELANGGARAN - FREQUENCY RULES CHECK

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RiwayatPelanggaranâ”‚    â”‚ PelanggaranFrequency   â”‚    â”‚  TindakLanjutService â”‚    â”‚   Database   â”‚
â”‚      Service      â”‚    â”‚     RuleService        â”‚    â”‚                      â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ 9. countSiswaViolations  â”‚                            â”‚                       â”‚
          â”‚    (siswa_id, jenis_id)  â”‚                            â”‚                       â”‚
          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚                       â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚                          â”‚ 10. SELECT COUNT(*)        â”‚                       â”‚
          â”‚                          â”‚     FROM riwayat_pelanggaran                       â”‚
          â”‚                          â”‚     WHERE siswa_id AND     â”‚                       â”‚
          â”‚                          â”‚     jenis_pelanggaran_id   â”‚                       â”‚
          â”‚                          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚                          â”‚ 11. Return count (N)       â”‚                       â”‚
          â”‚                          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ 12. Return frequency = N â”‚                            â”‚                       â”‚
          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚                       â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ 13. getMatchingRule      â”‚                            â”‚                       â”‚
          â”‚     (jenis_id, frequency)â”‚                            â”‚                       â”‚
          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚                       â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚                          â”‚ 14. SELECT * FROM          â”‚                       â”‚
          â”‚                          â”‚     pelanggaran_frequency_rules                    â”‚
          â”‚                          â”‚     WHERE jenis_id AND     â”‚                       â”‚
          â”‚                          â”‚     matchesFrequency(N)    â”‚                       â”‚
          â”‚                          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚                          â”‚ 15. Return matching rule   â”‚                       â”‚
          â”‚                          â”‚     (poin, sanksi,         â”‚                       â”‚
          â”‚                          â”‚     pembina_roles,         â”‚                       â”‚
          â”‚                          â”‚     trigger_surat)         â”‚                       â”‚
          â”‚                          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ 16. Return rule data     â”‚                            â”‚                       â”‚
          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚                       â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ [IF trigger_surat = true]â”‚                            â”‚                       â”‚
          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
          â”‚ â”‚ 17. createTindakLanjut â”‚                            â”‚                       â”‚
          â”‚ â”‚     (siswa_id, pemicu, â”‚                            â”‚                       â”‚
          â”‚ â”‚     sanksi, pembina_roles)                          â”‚                       â”‚
          â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
          â”‚ â”‚                        â”‚                            â”‚                       â”‚
          â”‚ â”‚                        â”‚ 18. INSERT INTO tindak_lanjut                      â”‚
          â”‚ â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
          â”‚ â”‚                        â”‚                            â”‚                       â”‚
          â”‚ â”‚                        â”‚ 19. generateSuratPanggilan â”‚                       â”‚
          â”‚ â”‚                        â”‚     (tindak_lanjut_id,     â”‚                       â”‚
          â”‚ â”‚                        â”‚     tipe_surat,            â”‚                       â”‚
          â”‚ â”‚                        â”‚     pembina_data)          â”‚                       â”‚
          â”‚ â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
          â”‚ â”‚                        â”‚                            â”‚                       â”‚
          â”‚ â”‚                        â”‚ 20. INSERT INTO surat_panggilan                    â”‚
          â”‚ â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
          â”‚ â”‚                        â”‚                            â”‚                       â”‚
          â”‚ â”‚ 21. Return success     â”‚                            â”‚                       â”‚
          â”‚ â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ 22. INSERT INTO          â”‚                            â”‚                       â”‚
          â”‚     riwayat_pelanggaran  â”‚                            â”‚                       â”‚
          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â”‚ 23. Return success       â”‚                            â”‚                       â”‚
          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
          â”‚                          â”‚                            â”‚                       â”‚
          â–¼                          â–¼                            â–¼                       â–¼
```

### (Akhir) CATAT PELANGGARAN - RESPONSE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Guru   â”‚    â”‚ RiwayatPelanggaran  â”‚    â”‚ RiwayatPelanggaranâ”‚
â”‚         â”‚    â”‚    Controller       â”‚    â”‚      Service      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                         â”‚
     â”‚                    â”‚ 24. Return result       â”‚
     â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    â”‚                         â”‚
     â”‚                    â”‚ [IF success]            â”‚
     â”‚                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    â”‚ â”‚ 25. Flash success message        â”‚
     â”‚                    â”‚ â”‚     "Pelanggaran berhasil dicatat"â”‚
     â”‚                    â”‚ â”‚                                   â”‚
     â”‚                    â”‚ â”‚ [IF tindak_lanjut_created]       â”‚
     â”‚                    â”‚ â”‚     + "Surat panggilan telah     â”‚
     â”‚                    â”‚ â”‚       dibuat otomatis"            â”‚
     â”‚                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                         â”‚
     â”‚ 26. Redirect to    â”‚                         â”‚
     â”‚     riwayat.index  â”‚                         â”‚
     â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                         â”‚
     â”‚                    â”‚                         â”‚
     â–¼                    â–¼                         â–¼
```

### Deskripsi Proses:
1-4. Guru membuka form catat pelanggaran
5-6. Guru submit data pelanggaran, sistem validasi
7-8. Service mengambil data jenis pelanggaran
9-12. Hitung frekuensi pelanggaran siswa untuk jenis ini
13-16. Cari rule yang cocok berdasarkan frekuensi
17-21. Jika trigger_surat = true, buat tindak lanjut & surat panggilan otomatis
22-23. Simpan riwayat pelanggaran ke database
24-26. Return success message dan redirect

---

## 3ï¸âƒ£ SEQUENCE DIAGRAM: APPROVAL TINDAK LANJUT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Kepala    â”‚    â”‚  TindakLanjut    â”‚    â”‚  TindakLanjut      â”‚    â”‚   Database   â”‚
â”‚   Sekolah   â”‚    â”‚   Controller     â”‚    â”‚     Service        â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 1. GET /tindak-    â”‚                        â”‚                       â”‚
       â”‚    lanjut/pending- â”‚                        â”‚                       â”‚
       â”‚    approval        â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 2. getPendingApproval()â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 3. SELECT * FROM      â”‚
       â”‚                    â”‚                        â”‚    tindak_lanjut      â”‚
       â”‚                    â”‚                        â”‚    WHERE status =     â”‚
       â”‚                    â”‚                        â”‚    'Menunggu          â”‚
       â”‚                    â”‚                        â”‚    Persetujuan'       â”‚
       â”‚                    â”‚                        â”‚    AND JSON_CONTAINS  â”‚
       â”‚                    â”‚                        â”‚    (pembina_roles,    â”‚
       â”‚                    â”‚                        â”‚    'Kepala Sekolah')  â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 4. Return list        â”‚
       â”‚                    â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 5. Return list        â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 6. Return view     â”‚                        â”‚                       â”‚
       â”‚    (pending list)  â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 7. POST /tindak-   â”‚                        â”‚                       â”‚
       â”‚    lanjut/{id}/    â”‚                        â”‚                       â”‚
       â”‚    approve         â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 8. approve($id, $user) â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 9. UPDATE tindak_lanjutâ”‚
       â”‚                    â”‚                        â”‚    SET status =       â”‚
       â”‚                    â”‚                        â”‚    'Disetujui',       â”‚
       â”‚                    â”‚                        â”‚    penyetuju_user_id, â”‚
       â”‚                    â”‚                        â”‚    tanggal_disetujui  â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 10. Return success    â”‚
       â”‚                    â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 11. Return success     â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 12. Redirect with  â”‚                        â”‚                       â”‚
       â”‚     success msg    â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â–¼                    â–¼                        â–¼                       â–¼
```

### Alternatif: REJECT Tindak Lanjut

```
       â”‚ ALT: POST /tindak- â”‚                        â”‚                       â”‚
       â”‚      lanjut/{id}/  â”‚                        â”‚                       â”‚
       â”‚      reject        â”‚                        â”‚                       â”‚
       â”‚      (alasan)      â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ reject($id, $alasan)   â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ UPDATE tindak_lanjut  â”‚
       â”‚                    â”‚                        â”‚ SET status = 'Ditolak'â”‚
       â”‚                    â”‚                        â”‚ catatan_kepala_sekolahâ”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
```

### Deskripsi Proses:
1-6. Kepala Sekolah membuka halaman pending approval
7-8. Kepala Sekolah klik approve pada kasus tertentu
9-10. Sistem update status menjadi 'Disetujui' dan catat penyetuju
11-12. Return success dan redirect

---

## 4ï¸âƒ£ SEQUENCE DIAGRAM: CETAK SURAT PANGGILAN

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Wali Kelas â”‚    â”‚  TindakLanjut    â”‚    â”‚  SuratPanggilan    â”‚    â”‚   Database   â”‚
â”‚             â”‚    â”‚   Controller     â”‚    â”‚     Service        â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 1. GET /tindak-    â”‚                        â”‚                       â”‚
       â”‚    lanjut/{id}/    â”‚                        â”‚                       â”‚
       â”‚    preview-surat   â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 2. getSuratPanggilan() â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 3. SELECT surat_panggilanâ”‚
       â”‚                    â”‚                        â”‚    JOIN tindak_lanjut â”‚
       â”‚                    â”‚                        â”‚    JOIN siswa         â”‚
       â”‚                    â”‚                        â”‚    JOIN kelas         â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 4. Return surat data  â”‚
       â”‚                    â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 5. Return surat data   â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 6. Return preview  â”‚                        â”‚                       â”‚
       â”‚    view            â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 7. GET /tindak-    â”‚                        â”‚                       â”‚
       â”‚    lanjut/{id}/    â”‚                        â”‚                       â”‚
       â”‚    cetak-surat     â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 8. generatePdf($id)    â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 9. Load PDF template  â”‚
       â”‚                    â”‚                        â”‚    (surat-panggilan.  â”‚
       â”‚                    â”‚                        â”‚    blade.php)         â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 10. Render with data  â”‚
       â”‚                    â”‚                        â”‚     (DomPDF)          â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 11. INSERT INTO       â”‚
       â”‚                    â”‚                        â”‚     surat_panggilan_  â”‚
       â”‚                    â”‚                        â”‚     print_log         â”‚
       â”‚                    â”‚                        â”‚     (user_id,         â”‚
       â”‚                    â”‚                        â”‚     printed_at,       â”‚
       â”‚                    â”‚                        â”‚     ip_address)       â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 12. Return PDF stream  â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 13. Download PDF   â”‚                        â”‚                       â”‚
       â”‚     file           â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â–¼                    â–¼                        â–¼                       â–¼
```

### Deskripsi Proses:
1-6. Wali Kelas preview surat panggilan
7. Wali Kelas klik cetak surat
8-10. Service generate PDF menggunakan DomPDF
11. Log aktivitas cetak ke database
12-13. Return PDF untuk download

---

## 5ï¸âƒ£ SEQUENCE DIAGRAM: MULAI & SELESAIKAN PEMBINAAN

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Wali Kelas â”‚    â”‚ PembinaanStatus  â”‚    â”‚  PembinaanStatus   â”‚    â”‚   Database   â”‚
â”‚  (Pembina)  â”‚    â”‚   Controller     â”‚    â”‚      Model         â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 1. GET /pembinaan  â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 2. getActivePembinaan()â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 3. SELECT * FROM      â”‚
       â”‚                    â”‚                        â”‚    pembinaan_status   â”‚
       â”‚                    â”‚                        â”‚    WHERE status IN    â”‚
       â”‚                    â”‚                        â”‚    ('PERLU_PEMBINAAN',â”‚
       â”‚                    â”‚                        â”‚    'SEDANG_DIBINA')   â”‚
       â”‚                    â”‚                        â”‚    AND JSON_CONTAINS  â”‚
       â”‚                    â”‚                        â”‚    (pembina_roles,    â”‚
       â”‚                    â”‚                        â”‚    'Wali Kelas')      â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 4. Return list        â”‚
       â”‚                    â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 5. Return list         â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 6. Return view     â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 7. PUT /pembinaan/ â”‚                        â”‚                       â”‚
       â”‚    {id}/mulai      â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 8. mulaiPembinaan($id) â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 9. UPDATE pembinaan_  â”‚
       â”‚                    â”‚                        â”‚    status SET         â”‚
       â”‚                    â”‚                        â”‚    status='SEDANG_    â”‚
       â”‚                    â”‚                        â”‚    DIBINA',           â”‚
       â”‚                    â”‚                        â”‚    dibina_oleh_user_idâ”‚
       â”‚                    â”‚                        â”‚    dibina_at = NOW()  â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 10. Return success     â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 11. Redirect       â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 12. PUT /pembinaan/â”‚                        â”‚                       â”‚
       â”‚     {id}/selesaikanâ”‚                        â”‚                       â”‚
       â”‚     (hasil_pembinaan)                       â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 13. selesaikanPembinaanâ”‚                       â”‚
       â”‚                    â”‚     ($id, $hasil)      â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 14. UPDATE pembinaan_ â”‚
       â”‚                    â”‚                        â”‚     status SET        â”‚
       â”‚                    â”‚                        â”‚     status='SELESAI', â”‚
       â”‚                    â”‚                        â”‚     diselesaikan_oleh,â”‚
       â”‚                    â”‚                        â”‚     selesai_at,       â”‚
       â”‚                    â”‚                        â”‚     hasil_pembinaan   â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 15. Return success     â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 16. Redirect with  â”‚                        â”‚                       â”‚
       â”‚     success msg    â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â–¼                    â–¼                        â–¼                       â–¼
```

### Deskripsi Proses:
1-6. Pembina membuka halaman pembinaan
7-11. Pembina mulai proses pembinaan (status: SEDANG_DIBINA)
12-16. Setelah selesai, pembina input hasil dan selesaikan (status: SELESAI)

---

## 6ï¸âƒ£ SEQUENCE DIAGRAM: KELOLA DATA SISWA (CRUD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Operator   â”‚    â”‚    Siswa         â”‚    â”‚     Siswa          â”‚    â”‚   Database   â”‚
â”‚             â”‚    â”‚   Controller     â”‚    â”‚     Service        â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚ CREATE                                                              â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 1. GET /siswa/     â”‚                        â”‚                       â”‚
       â”‚    create          â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 2. getDataForCreate()  â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 3. Return kelasList    â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 4. Return form     â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 5. POST /siswa     â”‚                        â”‚                       â”‚
       â”‚    (nama, nisn,    â”‚                        â”‚                       â”‚
       â”‚    kelas_id, hp)   â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 6. Validate            â”‚                       â”‚
       â”‚                    â”‚    (StoreSiswaRequest) â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 7. createSiswa(data)   â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 8. INSERT INTO siswa  â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 9. Return siswa       â”‚
       â”‚                    â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 10. Return siswa       â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 11. Redirect to    â”‚                        â”‚                       â”‚
       â”‚     siswa.index    â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚ UPDATE                                                              â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 12. GET /siswa/    â”‚                        â”‚                       â”‚
       â”‚     {id}/edit      â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 13. getById($id)       â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 14. Return form    â”‚                        â”‚                       â”‚
       â”‚     with data      â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 15. PUT /siswa/{id}â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 16. updateSiswa($id)   â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 17. UPDATE siswa      â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 18. Redirect       â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚ DELETE (Soft Delete)                                                â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 19. DELETE /siswa/ â”‚                        â”‚                       â”‚
       â”‚     {id}           â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 20. deleteSiswa($id)   â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 21. UPDATE siswa SET  â”‚
       â”‚                    â”‚                        â”‚     deleted_at = NOW()â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 22. Redirect       â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â–¼                    â–¼                        â–¼                       â–¼
```

---

## 7ï¸âƒ£ SEQUENCE DIAGRAM: DASHBOARD ROLE-BASED

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚    â”‚   Dashboard      â”‚    â”‚   Query Services   â”‚    â”‚   Database   â”‚
â”‚ (Any Role)  â”‚    â”‚   Controller     â”‚    â”‚   (Statistics)     â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 1. GET /dashboard  â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 2. Check user role     â”‚                       â”‚
       â”‚                    â”‚    (Auth::user()->role)â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 3. Redirect to         â”‚                       â”‚
       â”‚                    â”‚    role-specific       â”‚                       â”‚
       â”‚                    â”‚    dashboard           â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚ [IF Wali Kelas]                                                     â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 4. GET /dashboard/ â”‚                        â”‚                       â”‚
       â”‚    walikelas       â”‚                        â”‚                       â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ WaliKelasDashboardController                   â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 5. getKelasData()      â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 6. SELECT kelas       â”‚
       â”‚                    â”‚                        â”‚    WHERE wali_kelas_id â”‚
       â”‚                    â”‚                        â”‚    = Auth::id()       â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 7. getSiswaStats()     â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 8. SELECT COUNT(siswa)â”‚
       â”‚                    â”‚                        â”‚    WHERE kelas_id     â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 9. getPelanggaranStats()                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 10. SELECT COUNT(*)   â”‚
       â”‚                    â”‚                        â”‚     FROM riwayat_     â”‚
       â”‚                    â”‚                        â”‚     pelanggaran       â”‚
       â”‚                    â”‚                        â”‚     JOIN siswa        â”‚
       â”‚                    â”‚                        â”‚     WHERE kelas_id    â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 11. getTindakLanjut()  â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚ 12. SELECT tindak_    â”‚
       â”‚                    â”‚                        â”‚     lanjut WHERE      â”‚
       â”‚                    â”‚                        â”‚     JSON_CONTAINS     â”‚
       â”‚                    â”‚                        â”‚     (pembina_roles,   â”‚
       â”‚                    â”‚                        â”‚     'Wali Kelas')     â”‚
       â”‚                    â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 13. getPembinaanAktif()â”‚                       â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚                    â”‚ 14. Return all stats   â”‚                       â”‚
       â”‚                    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ 15. Return         â”‚                        â”‚                       â”‚
       â”‚     dashboard view â”‚                        â”‚                       â”‚
       â”‚     with stats     â”‚                        â”‚                       â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚ [IF Kepala Sekolah]                                                 â”‚
       â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â”‚ Similar flow but:  â”‚                        â”‚                       â”‚
       â”‚ - All school data  â”‚                        â”‚                       â”‚
       â”‚ - Pending approvalsâ”‚                        â”‚                       â”‚
       â”‚ - Overview charts  â”‚                        â”‚                       â”‚
       â”‚                    â”‚                        â”‚                       â”‚
       â–¼                    â–¼                        â–¼                       â–¼
```

---

## ðŸ“‹ RINGKASAN SEQUENCE DIAGRAM

| # | Proses | Aktor Utama | Objects | Tipe Interaksi |
|---|--------|-------------|---------|----------------|
| 1 | Login | Semua User | LoginController, AuthGuard, Database | Request-Response |
| 2 | Catat Pelanggaran | Guru | Controller, Service, FrequencyRules, TindakLanjut | Nested Call + Auto-Generate |
| 3 | Approval | Kepala Sekolah | Controller, Service, Database | Status Update |
| 4 | Cetak Surat | Wali Kelas | Controller, Service, PDF, Database | Generate + Log |
| 5 | Pembinaan | Pembina | Controller, Model, Database | Workflow Status |
| 6 | CRUD Siswa | Operator | Controller, Service, Database | Standard CRUD |
| 7 | Dashboard | Semua User | Controller, Services, Database | Query + Aggregate |

---

## ðŸ”‘ LEGEND

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  : Synchronous call (request)
<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  : Return (response)
â•â•â•â•â•â•â•â•â•â•â•  : Section separator
[IF ...]     : Conditional block
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Box    â”‚  : Actor / Object
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Dokumen ini dibuat pada: 27 Desember 2024**
**Diverifikasi dari source code controllers dan services sistem**
